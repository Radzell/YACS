// Generated by CoffeeScript 1.3.1
(function() {
  var YACS;

  YACS = {
    summary_length: 150,
    search_delay: 1000
  };

  $(function() {
    return summarize($('.summarize'), {
      summary_length: YACS.summary_length
    });
  });

  $(function() {
    var spinner, target;
    spinner = $('#search-spinner');
    target = $('#replacable-with-search');
    return realtime_form('#searchform', target, {
      delay: YACS.search_delay,
      serializer: function(form, method) {
        return form.serialize() + '&partial=1';
      },
      event_start: function() {
        return spinner.show();
      },
      request_start: function() {
        return Logger.info('search query: ' + $('#q').val());
      },
      complete: function() {
        return spinner.fadeOut(500);
      },
      success: function() {
        return summarize(target.find('.summarize'), {
          summary_length: YACS.summary_length
        });
      }
    });
  });

  $(function() {});

}).call(this);
