// Generated by CoffeeScript 1.3.1
(function() {
  var API, api;

  API = (function() {

    API.name = 'API';

    function API() {
      this.base_url = '/api/4/';
    }

    API.prototype.url = function(object, id) {
      if (id != null) {
        return this.base_url + object + '/' + id + '/';
      } else {
        return this.base_url + object + '/';
      }
    };

    API.prototype.get = function(url, success, error) {
      return $.ajax({
        url: url,
        type: 'GET',
        dataType: 'json',
        cache: true,
        success: function(data) {
          if (data.success) {
            return success(data.result);
          } else {
            return error(data, null);
          }
        },
        error: function(xhr, txtStatus, exception) {
          return error(null, exception);
        }
      });
    };

    API.prototype.semesters = function(success, error) {
      return this.get(this.url('semesters'), success, error);
    };

    API.prototype.departments = function(success, error) {
      return this.get(this.url('departments'), success, error);
    };

    API.prototype.courses = function(success, error) {
      return this.get(this.url('courses'), success, error);
    };

    API.prototype.sections = function(success, error) {
      return this.get(this.url('sections'), success, error);
    };

    return API;

  })();

  window.api = api = new API;

}).call(this);
